# watchdog_config.json - Watchdog 설정 파일

{
  "watchdog": {
    "name": "SHawn-Bot Watchdog",
    "description": "숀봇 신경계 L1 뇌간 (아드레날린) - 안정성 강화",
    "version": "1.0.0"
  },
  
  "monitoring": {
    "check_interval_seconds": 5,
    "consecutive_down_threshold": 2,
    "metrics_log_interval_seconds": 60
  },
  
  "process": {
    "script_name": "shawn_bot_telegram.py",
    "venv_path": ".venv_bot",
    "working_directory": "systems/bot"
  },
  
  "restart": {
    "max_attempts": 3,
    "initial_delay_seconds": 1,
    "exponential_backoff": true,
    "target_restart_time_ms": 5000
  },
  
  "dependencies": {
    "required": [
      "python-telegram-bot>=22.6",
      "aiohttp",
      "pillow",
      "requests",
      "pandas"
    ],
    "auto_install": true,
    "timeout_seconds": 60
  },
  
  "environment": {
    "required_vars": [
      "TELEGRAM_BOT_TOKEN",
      "OPENAI_API_KEY",
      "GEMINI_API_KEY"
    ],
    "wait_timeout_seconds": 300
  },
  
  "logging": {
    "log_directory": "logs/watchdog",
    "log_level": "DEBUG",
    "rotate_daily": true
  },
  
  "metrics": {
    "track_memory": true,
    "track_cpu": true,
    "track_threads": true,
    "track_file_handles": true,
    "memory_warning_threshold_mb": 500,
    "memory_critical_threshold_mb": 800
  },
  
  "notifications": {
    "log_process_restart": true,
    "log_process_down": true,
    "log_dependency_issues": true,
    "log_environment_issues": true
  },
  
  "phase": {
    "current": "Phase 1-1",
    "name": "응급 안정화",
    "week": 1,
    "target_stability": "3/10 → 7/10",
    "adrenaline_level": "100%"
  }
}
